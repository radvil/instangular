<ng-container *ngIf="post$ | async as post">
  <app-page-header
    [title]="pageHeaderTitle"
    [style]="'sticky'"
  ></app-page-header>

  <div *ngIf="isPostLoading$ | async; else postCard" class="placeholder">
    <h1>ðŸŽµðŸŽµ</h1>
  </div>

  <ng-template #postCard>
    <app-post-card
      [post]="post"
      (onUserProfileClicked)="viewUserProfile($event)"
    >
      <app-comments
        [post]="post"
        [comments]="comments$ | async"
        [authUser]="authUser$ | async"
        [commentsHasNextPage]="postCommentsHasNext$ | async"
        [isCommentsLoading]="isCommentsLoading$ | async"
        (onViewCommentsClicked)="viewPreviousComments($event)"
        (onViewRepliesClicked)="viewCommentReplies($event)"
        (onUserProfileClicked)="viewUserProfile($event)"
        (onAddCommentClicked)="addComment($event)"
      ></app-comments>
    </app-post-card>
  </ng-template>
</ng-container>
