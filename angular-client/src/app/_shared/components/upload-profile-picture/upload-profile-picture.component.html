<div
  class="container"
  *ngIf="!(isLoading$ | async) || (isLoaded$ | async); else isLoading"
>
  <!-- hidden input -->
  <input
    #fileInput
    type="file"
    style="display: none"
    (change)="onFileSelected($event)"
  />

  <!-- select button -->
  <button
    (click)="fileInput.click()"
    *ngIf="!imagePreviewPath"
    type="button"
    class="select__button"
    mat-flat-button
    color="accent"
  >
    <mat-icon>photo</mat-icon>
  </button>

  <!-- preview image -->
  <div
    class="image__preview"
    *ngIf="imagePreviewPath && imagePreviewPath !== null"
  >
    <img
      [src]="imagePreviewPath"
      alt="photo preview"
      (click)="fileInput.click()"
    />
  </div>

  <!-- submit button -->
  <button
    (click)="submitUpload()"
    [disabled]="!selectedImage || (isLoading$ | async)"
    mat-flat-button
    color="primary"
    class="upload__button"
    type="button"
  >
    Upload now
  </button>
</div>

<ng-template #isLoading>
  <div class="loading__container">
    <h2>ðŸŽµðŸŽµ Uploading image ...</h2>
  </div>
</ng-template>
